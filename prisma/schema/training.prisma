// トレーニング記録アプリ用スキーマ
// プロジェクトルール準拠：リレーション名は対象テーブルと同一、大文字で開始
// 外部キーは小文字で開始、{modelName}Id
// 日付データは at をつける

model ExerciseMaster {
 id        Int      @id @default(autoincrement())
 createdAt DateTime @default(now())
 updatedAt DateTime @updatedAt
 sortOrder Int      @default(0)

 userId Int // ユーザーID（外部キー）
 part   String // 部位（胸、背中、肩、腕、足、有酸素など）
 name   String // 種目名
 unit   String // 強度単位（kg、lb、minなど）
 color  String? // 色（#000000）

 // リレーション名は対象テーブルと同一、大文字で開始
 User       User         @relation(fields: [userId], references: [id])
 WorkoutLog WorkoutLog[]

 @@map("exercise_masters")
}

model WorkoutLog {
 id        Int      @id @default(autoincrement())
 createdAt DateTime @default(now())
 updatedAt DateTime @updatedAt
 sortOrder Int      @default(0)

 userId     Int // ユーザーID（外部キー）
 exerciseId Int // 外部キーは小文字で開始、{modelName}Id
 date       DateTime // 日付データは at をつける
 strength   Int // 強度
 reps       Int // 回数

 // リレーション名は対象テーブルと同一、大文字で開始
 User           User           @relation(fields: [userId], references: [id])
 ExerciseMaster ExerciseMaster @relation(fields: [exerciseId], references: [id])

 @@map("workout_logs")
}
